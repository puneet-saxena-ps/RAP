sap.ui.define(["com/public/storage/pao/utils/reusecontroller","sap/m/BusyDialog","sap/m/MessageToast","sap/ui/model/json/JSONModel","com/public/storage/pao/utils/formatter"],function(e,t,a,o,n){"use strict";var r;return e.extend("com.public.storage.pao.c+
ontroller.PropDates",{formatter:n,onInit:function(){r=this;const e=this.getRouter();e.getRoute("propDates").attachMatched(this._onRouteMatched,this);this._oBusyDialog=new t;this.getView().addDependent(this._oBusyDialog);this.model=new o;this.model.setDat+
a({ReStartDate:"None",NewOwnershipDate:"None",OriginalStartDate:"None",OriginalStartDate:"None",BuCreateDate:"None"});this.getView().setModel(this.model)},_onRouteMatched:function(e){const t=this.getRouter();this.getOwnerComponent.hasChanges=false;const +
a=this.getOwnerComponent().plant;if(a===undefined){return t.navTo("home")}const o=this.getOwnerComponent().LegacyPropertyNumber;this._oModel=sap.ui.getCore().getModel("mainModel");this.readPropertyData(a,o)},onDetectChange:function(e){this.detectChanges(+
)},onPressSavePropDates:function(){this._oBusyDialog.open();const e=this;const t=this.getOwnerComponent().plant;const o=this.getOwnerComponent().LegacyPropertyNumber;var n=true;let r="T00:00:00";let s=this.byId("restrtdate").getValue().split(".").reverse+
().join("-");let i=this.byId("newOwnerdate").getValue().split(".").reverse().join("-");let l=this.byId("orstartdate").getValue().split(".").reverse().join("-");let u=this.byId("terminationdate").getValue().split(".").reverse().join("-");let c=this.byId("+
bucreatedate").getValue().split(".").reverse().join("-");let p=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"}).format(new Date(s))+r;let g=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"}).format(new Date(i))+r;l+
et h=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"}).format(new Date(l))+r;let d=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"}).format(new Date(u))+r;let m=sap.ui.core.format.DateFormat.getDateInstance({patter+
n:"yyyy-MM-dd"}).format(new Date(c))+r;s=p==="T00:00:00"?null:p;i=g==="T00:00:00"?null:g;l=h==="T00:00:00"?null:h;u=d==="T00:00:00"?null:d;c=m==="T00:00:00"?null:m;const y={ReStartDate:s,NewOwnershipDate:i,OriginalStartDate:l,TerminationDate:u,BuCreateDa+
te:c};const D=`/PropertyMasterSet(Plant='${t}',LegacyPropertyNumber='${o}')`;this._oModel.update(D,y,{success:function(t){e._oBusyDialog.close();e.getOwnerComponent.hasChanges=false;a.show("Saved Successfully")},error:function(t){e._oBusyDialog.close();a+
.show("Something went wrong with Service")}})}})});                                                                                                                                                                                                            
//# sourceMappingURL=PropDates.controller.js.map                                                                                                                                                                                                               