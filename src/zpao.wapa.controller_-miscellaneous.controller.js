sap.ui.define(["com/public/storage/pao/utils/reusecontroller","sap/m/BusyDialog","sap/m/MessageToast","com/public/storage/pao/utils/formatter"],function(e,t,s,i){"use strict";var n;return e.extend("com.public.storage.pao.controller.Miscellaneous",{format+
ter:i,onInit:function(){n=this;const e=this.getRouter();e.getRoute("misc").attachMatched(this._onRouteMatched,this);this._oBusyDialog=new t;this.getView().addDependent(this._oBusyDialog)},_onRouteMatched:function(e){const t=this.getRouter();this.getOwner+
Component.hasChanges=false;const s=this.getOwnerComponent().plant;if(s===undefined){return t.navTo("home")}const i=this.getOwnerComponent().LegacyPropertyNumber;this._oModel=sap.ui.getCore().getModel("mainModel");this.readPropertyData(s,i);this.MiscBuild+
ingDetails(s,i)},onAdd:function(e){var t=new sap.m.ColumnListItem({cells:[new sap.m.Input({change:[this.onChange,this],maxLength:10}),new sap.m.Input({change:[this.onChange,this],maxLength:30}),new sap.m.Input({change:[this.onChange,this],maxLength:30}),+
new sap.m.Input({change:[this.onChange,this],maxLength:50}),new sap.m.Input({change:[this.onChange,this],maxLength:50}),new sap.m.Button({icon:"sap-icon://delete",type:"Reject",press:[this.remove,this]})]});var s=this.getView().byId("isMiscTab");s.addIte+
m(t);if(s.getItems().length>0){this.getView().byId("illusSectionMisc").setVisible(false)}else{this.getView().byId("illusSectionMisc").setVisible(true)}},remove:function(e){var t=this.getView().byId("isMiscTab");t.removeItem(e.getSource().getParent()).des+
troy();if(t.getItems().length>0){this.getView().byId("illusSectionMisc").setVisible(false)}else{this.getView().byId("illusSectionMisc").setVisible(true)}},onPressSaveMiscDetails:function(e){const t=this;this._oBusyDialog.open();const i=[];let n=this.getO+
wnerComponent().plant;let o=this.getOwnerComponent().LegacyPropertyNumber;const a=this.byId("isMiscTab").getItems();var l=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZMM_PROPERTY_MASTER_SRV/",{json:true,defaultBindingMode:sap.ui.model.BindingMo+
de.TwoWay,useBatch:true});this.getView().setModel(l,"tmpModel");var h=[];var g="foo";if(a.length){for(var u=0;u<a.length;u++){var r=`/PropertyAddOnSet`;var c={Plant:n,Property:o,KeyId:"MISC",Code:a[u].getCells()[0].getValue(),Value1:a[u].getCells()[1].ge+
tValue(),Value2:a[u].getCells()[2].getValue(),Description1:a[u].getCells()[3].getValue(),Description2:a[u].getCells()[4].getValue()};if(a[u].getCells()[0].getValue()===""){this._oBusyDialog.close();return s.show("Building number cannot be blank")}var p=l+
.createBatchOperation(r,"POST",c);h.push(p)}l.addBatchChangeOperations(h);l.submitBatch(function(e,i){t._oBusyDialog.close();if(i.statusCode===202){s.show("Saved Successfully")}},function(e){t._oBusyDialog.close();s.show("Something went wrong with the se+
rvice")})}else{s.show("Nothing to save")}}})});                                                                                                                                                                                                                
//# sourceMappingURL=Miscellaneous.controller.js.map                                                                                                                                                                                                           