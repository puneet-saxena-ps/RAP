sap.ui.define(["com/public/storage/pao/utils/reusecontroller","sap/m/BusyDialog","sap/m/MessageToast","com/public/storage/pao/utils/formatter"],function(e,t,s,i){"use strict";var n;return e.extend("com.public.storage.pao.controller.BuildingDetails",{form+
atter:i,onInit:function(){n=this;const e=this.getRouter();e.getRoute("buildDetails").attachMatched(this._onRouteMatched,this);this._oBusyDialog=new t;this.getView().addDependent(this._oBusyDialog)},_onRouteMatched:function(e){const t=this.getRouter();thi+
s.getOwnerComponent.hasChanges=false;const s=this.getOwnerComponent().plant;if(s===undefined){return t.navTo("home")}const i=this.getOwnerComponent().LegacyPropertyNumber;this._oModel=sap.ui.getCore().getModel("mainModel");this.readPropertyData(s,i);this+
.readBuldingDetails(s,i)},onAdd:function(e){var t=new sap.m.ColumnListItem({cells:[new sap.m.Input({change:[this.onChange,this],maxLength:10}),new sap.m.Input({change:[this.onChange,this],maxLength:30}),new sap.m.Input({change:[this.onChange,this],maxLen+
gth:30}),new sap.m.Input({change:[this.onChange,this],maxLength:50}),new sap.m.Input({change:[this.onChange,this],maxLength:50}),new sap.m.Button({icon:"sap-icon://delete",type:"Reject",press:[this.remove,this]})]});var s=this.getView().byId("idAttribute+
stTab");s.addItem(t);if(s.getItems().length>0){this.getView().byId("illusSection").setVisible(false)}else{this.getView().byId("illusSection").setVisible(true)}},remove:function(e){var t=this.getView().byId("idAttributestTab");t.removeItem(e.getSource().g+
etParent()).destroy();if(t.getItems().length>0){this.getView().byId("illusSection").setVisible(false)}else{this.getView().byId("illusSection").setVisible(true)}},onPressSaveBuldingDetails:function(e){const t=this;this._oBusyDialog.open();const i=[];let n+
=this.getOwnerComponent().plant;let o=this.getOwnerComponent().LegacyPropertyNumber;const a=this.byId("idAttributestTab").getItems();var l=new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZMM_PROPERTY_MASTER_SRV/",{json:true,defaultBindingMode:sap.u+
i.model.BindingMode.TwoWay,useBatch:true});this.getView().setModel(l,"tmpModel");var g=[];var u="foo";if(a.length){for(var r=0;r<a.length;r++){var h=`/PropertyAddOnSet`;var c={Plant:n,Property:o,KeyId:"BUILDING",Code:a[r].getCells()[0].getValue(),Value1:+
a[r].getCells()[1].getValue(),Value2:a[r].getCells()[2].getValue(),Description1:a[r].getCells()[3].getValue(),Description2:a[r].getCells()[4].getValue()};if(a[r].getCells()[0].getValue()===""){this._oBusyDialog.close();return s.show("Building number cann+
ot be blank")}var d=l.createBatchOperation(h,"POST",c);g.push(d)}l.addBatchChangeOperations(g);l.submitBatch(function(e,i){t._oBusyDialog.close();if(i.statusCode===202){s.show(t.getView().getModel("i18n").getResourceBundle().getText("successMsg"))}},func+
tion(e){t._oBusyDialog.close();s.show(t.getView().getModel("i18n").getResourceBundle().getText("errorMsg"))})}else{s.show("Nothing to save")}}})});                                                                                                            
//# sourceMappingURL=BuildingDetails.controller.js.map                                                                                                                                                                                                         